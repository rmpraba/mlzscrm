
<link rel="import" href="..\..\bower_components/polymer/polymer.html">

<dom-module id="special-discount-card">
  <template>
    <style>
      :host {
        display: block;
      }
    </style>
    <paper-input hidden value="{{dtype}}"></paper-input>
    <span class="col-sm-2">
    <paper-checkbox id="checkk{{code}}" value="{{code}}" on-change="discountHandler" checked="{{checked}}">{{discountname}}
    </paper-checkbox>
    </span>
  </template>
  <script>
  (function() {
    'use strict';
    var checkedbox="";
    Polymer({
      is: 'special-discount-card',
      ready:function(){
        // alert('ready'+this.dtype);
        checkedbox=localStorage.getItem('curr_sess_discounttype');
        // alert(checkedbsox);
      },
      discountHandler:function(e){ 
        // alert(this.code);
        document.querySelector('admission-form').setDiscountType(this.code);
        if(checkedbox==""){
          // alert('in'+this.code);
          checkedbox=this.code;
        }
        else{
        // alert('out'+this.code);
        if(checkedbox!=this.code){
        // alert('outin'+this.code);
        document.querySelector('#checkk'+checkedbox).checked=false;
        }   
        }
        if(document.querySelector('#checkk'+this.code).checked==true){   
        checkedbox=this.code;
        // document.querySelector('newenquiry-card').setDiscountType(this.code);
        document.querySelector('admission-form').setDiscountType(this.code);
        }
      },
      setCheckedHandler:function(dcode){
        this.code=(dcode).trim();
        document.querySelector('#checkk'+this.code).checked=true;
        document.querySelector('admission-form').setDiscountType(this.code);
      }
    });
  })();
  </script>
</dom-module>
